<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aposta Ganha - Avaliação de Atendimento</title>
    
    <!-- SDKs e Scripts Externos -->
    <script src="https://static.zdassets.com/zendesk_app_framework_sdk/2.0/zaf_sdk.min.js"></script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "tpmoctk9y4");
    </script>

    <!-- Estilos Consolidados -->
    <link href="assets/general.css" rel="stylesheet">
    <link href="assets/popup.css" rel="stylesheet">
</head>
<body>
    <header class="form-header" role="banner">
        <div class="header-left">
            <a href="https://apostaganha.bet.br" aria-label="Voltar para a página inicial da Aposta Ganha">
                <span class="form-logo"></span>
            </a>
        </div>
        <div class="header-right">
            <span class="advise" title="[+18] Jogue com responsabilidade" aria-hidden="true"></span>
        </div>
    </header>

    <main class="container" role="main">
        <!-- Indicador de Carregamento Global -->
        <div id="loading" class="hidden" role="status" aria-live="polite"></div>

        <div id="wrap-evaluation" class="hidden">
            <form id="nps-form" novalidate>
                <h1 id="form-title">Avaliação de Atendimento</h1>
                <p class="form-description">Para continuar melhorando o nosso desempenho no chat, deixe a sua nota para o(a) atendente:</p>
                
                <input type="hidden" name="id_ticket" id="id_ticket" value="">
                
                <!-- Seleção NPS -->
                <div id="nps-options" role="radiogroup" aria-labelledby="form-title">
                    <button type="button" class="nps-option red-one" data-value="1" data-label="Muito insatisfeito" aria-label="Nota 1 - Muito insatisfeito">1</button>
                    <button type="button" class="nps-option red-two" data-value="2" data-label="Insatisfeito" aria-label="Nota 2 - Insatisfeito">2</button>
                    <button type="button" class="nps-option yellow" data-value="3" data-label="Neutro" aria-label="Nota 3 - Neutro">3</button>
                    <button type="button" class="nps-option green-four" data-value="4" data-label="Satisfeito" aria-label="Nota 4 - Satisfeito">4</button>
                    <button type="button" class="nps-option green-five" data-value="5" data-label="Muito satisfeito" aria-label="Nota 5 - Muito satisfeito">5</button>
                </div>
                <div id="nps-error" class="error-message hidden" role="alert">Por favor, selecione uma nota.</div>

                <!-- Perguntas Condicionais -->
                <div id="additional-question-container">
                    <!-- Insatisfeito (1-2) -->
                    <div id="additional-questions-1-2" class="additional-questions hidden">
                        <h3>O que você não gostou no atendimento?</h3>
                        <label><input type="radio" name="additional-response" value="O atendimento foi demorado"> O atendimento foi demorado</label>
                        <label><input type="radio" name="additional-response" value="O atendente não fez bom atendimento"> O atendente não fez bom atendimento</label>
                        <label><input type="radio" name="additional-response" value="O atendimento não foi claro e eficiente"> O atendimento não foi claro e eficiente</label>
                        <label><input type="radio" name="additional-response" value="Navegação no chat foi difícil"> Navegação no chat foi difícil</label>
                    </div>

                    <!-- Neutro (3) -->
                    <div id="additional-questions-3-3" class="additional-questions hidden">
                        <h3>O que poderia ser melhor?</h3>
                        <label><input type="radio" name="additional-response" value="Resolução precisa ser mais rápida"> Resolução mais rápida</label>
                        <label><input type="radio" name="additional-response" value="Atendimento precisa melhorar"> Atendimento melhor</label>
                        <label><input type="radio" name="additional-response" value="Informações precisam ser mais completas e claras"> Informações mais completas e claras</label>
                        <label><input type="radio" name="additional-response" value="Navegação no chat precisa ser mais fácil"> Navegação mais fácil no chat</label>
                    </div>

                    <!-- Satisfeito (4-5) -->
                    <div id="additional-questions-4-5" class="additional-questions hidden">
                        <h3>O que mais te agradou?</h3>
                        <label><input type="radio" name="additional-response" value="O atendimento humano foi excelente"> O atendimento humano foi excelente</label>
                        <label><input type="radio" name="additional-response" value="O atendimento foi rápido"> O atendimento foi rápido</label>
                        <label><input type="radio" name="additional-response" value="As informações foram claras e completas"> As informações foram claras e completas</label>
                        <label><input type="radio" name="additional-response" value="O meu problema foi resolvido"> O meu problema foi resolvido</label>
                    </div>
                </div>
                <div id="additional-error" class="error-message hidden" role="alert">Por favor, escolha uma das opções.</div>

                <!-- Comentários -->
                <div id="comment-container" class="comment-fields hidden">
                    <label for="comment"><h3>Nos conte um pouco mais (opcional):</h3></label>
                    <textarea id="comment" name="comment" placeholder="Insira seu comentário aqui..."></textarea>
                    
                    <div id="submit-container">
                        <button type="submit" id="submit-button" class="button-primary">Enviar Avaliação</button>
                    </div>
                </div>
            </form>

            <!-- Mensagem de Sucesso -->
            <div id="success-message" class="hidden" role="alert">
                <h3>Obrigado pelo seu feedback!</h3>
                <p>Sua opinião é fundamental para melhorarmos nosso serviço.</p>
                <a href="https://apostaganha.bet.br" class="button-primary" style="display: inline-block; width: auto; margin-top: 20px; text-decoration: none;">Voltar para o site</a>
            </div>

            <!-- Popup Prêmio RA (Opcional/Condicional) -->
            <div id="RA-award" class="hidden">
                <hr style="margin: 40px 0; border: 0; border-top: 1px solid #ddd;">
                <h3 style="text-align: center;">Vote na gente no Prêmio Reclame Aqui 2025!</h3>
                <!-- Estrutura do popup simplificada aqui ou via JS -->
            </div>
        </div>

        <!-- Estados de Erro/Expirado -->
        <div id="expired" class="hidden" role="alert">
            <h3>Esta pesquisa já foi avaliada ou expirou.</h3>
        </div>
        <div id="permission" class="hidden" role="alert">
            <h3>Você não tem permissão para visualizar esta página.</h3>
        </div>
    </main>

    <!-- Scripts -->
    <script src="assets/form-logic.js"></script>
    <script src="assets/popup.js" crossorigin="anonymous"></script>
</body>
</html>
